<form #userForm="ngForm" (ngSubmit)="!isEdit ? addUser(userForm) : updateUser(userForm)">
  <input name="_id" type="hidden" [(ngModel)]="currentUser._id" #userId="ngModel"
         *ngIf="isEdit"/>
  <div class="form-group">
    <label>First Name</label>
    <input
      type="text"
      class="form-control"
      name="firstName"
      [(ngModel)]="currentUser.firstName"
      [ngClass]="{'is-invalid':userFirstName.errors && userFirstName.touched}"
      #userFirstName="ngModel"
      required
      minlength="2"
    >
    <div [hidden]="!userFirstName.errors?.required" class="invalid-feedback">
      First name required
    </div>
    <div [hidden]="!userFirstName.errors?.minlength" class="invalid-feedback">
      Must be at least 2 characters
    </div>
  </div>
  <div class="form-group">
    <label>Last Name</label>
    <input
      type="text"
      class="form-control"
      [(ngModel)]="currentUser.lastName"
      [ngClass]="{'is-invalid':userLastName.errors && userLastName.touched}"
      name="lastName"
      #userLastName="ngModel"
      required
      minlength="2"
    >
    <div [hidden]="!userLastName.errors?.required" class="invalid-feedback">
      Last name required
    </div>
    <div [hidden]="!userLastName.errors?.minlength" class="invalid-feedback">
      Must be at least 2 characters
    </div>
  </div>
  <div class="form-group">
    <label>Email address</label>
    <input
      type="email"
      [(ngModel)]="currentUser.email"
      [ngClass]="{'is-invalid':userEmail.errors && userEmail.touched}"
      class="form-control"
      name="email"
      #userEmail="ngModel"
      required
      pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"
    >
    <div [hidden]="!userEmail.errors?.required" class="invalid-feedback">
      Email name required
    </div>

    <div [hidden]="!userEmail.errors?.pattern" class="invalid-feedback">
      Email is not valid
    </div>
  </div>
  <button [disabled]="!userForm.form.valid" class="btn btn-block mb-3" [innerText]="!isEdit ? 'Add New User' : 'Update User'"></button>
<!--  <button *ngIf="!isEdit" (click)="addUser(userFirstName.value, userLastName.value, userEmail.value)" [disabled]="!userForm.form.valid" class="btn btn-block mb-3">Add Post</button>-->
<!--  <button *ngIf="isEdit" (click)="updateUser()" [disabled]="!userForm.form.valid" class="btn btn-block mb-3">Update Post</button>-->
</form>
